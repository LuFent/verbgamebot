# Verbgame bot

Боты, для Telegram и Вконтакте, использующие технологии машинного обучения Google DialogFlow

## Пример работы бота

![screen-gif](./tg.gif)

## Как запустить локально
* Скачать репозиторий с кодом   
* Создайте агента в DialogFlow, и скачайте json файл с информацией об аккаунте
* Добавить переменную PATH ```GOOGLE_APPLICATION_CREDENTIALS``` в которой будет
путь к json конфигурации сервисного аккаунта Google
*Скачайте python3 и загрузите зависимости командой
```
pip3 install -r requirements.txt
```
*Создайте .env файл со следующим содержанием:
```
export ADMIN_ID=<Ваш id в Телеграм(можно получить, написав боту userinfobot)>
export TG_API_KEY=<Ваш API ключ для Telegram>
export DIALOG_FLOW_ID=<ID Вашего Агента DialogFlow>
export VK_API_KEY=<Ваш API ключ для группы вк>
```
*запустить скрипты командами
```
python3 tg_bot.py
```
и
```
python3 vk_bot.py
```

Также проект содержит Procfile и подготовлен для деплоя на Heroku

## Что могут боты

Боты умеют расопзнавать свободную речь, и их можно настроить на ответы на частые вопросы,
чтобы экономить время техподдержки.
Для обучения ботов можно загрузить в них "Intents", с помощью скрипта ``` intent_create.py ```
Чтобы скрипт сработал нужно создать в дирректории проекта json файл ```intents.json``` с содержанием вида:
```
{
  "Забыл пароль": {
      "questions": [
          "Не помню пароль",
          "Не могу войти",
          "Проблемы со входом",
          "Забыл пароль",
          "Забыл логин",
          "Восстановить пароль",
          "Как восстановить пароль",
          "Неправильный логин или пароль",
          "Ошибка входа",
          "Не могу войти в аккаунт"
      ],
      "answer": "Если вы не можете войти на сайт, воспользуйтесь кнопкой «Забыли пароль?» под формой входа. Вам на почту прийдёт письмо с дальнейшими инструкциями. Проверьте папку «Спам», иногда письма попадают в неё."
  },
  ...
}
```
и запустить скрипт командой
```
python3 intent_create.py
```
Также на сайте DialogFlow можно выбрать готовые "Intents" созданные другими юзерами
